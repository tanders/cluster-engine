(IN-PACKAGE :CCL)
;; this patch was saved with PWGL version 1.0 beta RC 18 (0.9.18-201)
(ASSERT-PATCH-SAVED-VERSION-NOT-NEWER-THAN (QUOTE ((0 9 18) 201)))
(LET ((WIN (MAKE-INSTANCE (QUOTE PWGL-PW-WINDOW) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "rule" :CURVAL "()" :VALUE-STRING "()") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "voices" :VALUE-STRING "0") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "input-mode" :MINVAL 0 :MAXVAL 2 :MENU-LIST (LIST ":durations" ":motifs" ":all-durations") :MENU-LIST-STRING ":durations")) :X 0.22399999999999976D0 :Y 1.7999999999999999D0 :W 0.5 :H 0.16 :BOX-STRING "r-rhythms-one-voice" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 2 1) :ORIG-GROUPING-LIST (LIST 2 1) :EXTENSION-PATTERN (LIST 2) :EXTENSION-LIMIT 5 :X-PROPORTIONS (LIST (LIST 0.2 0.2) (LIST 0.4) (LIST 0.3 0.1)) :BORDER 0.012) :PW-FUNCTION (QUOTE CLUSTER-ENGINE:R-RHYTHMS-ONE-VOICE)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "rule" :CURVAL "()" :VALUE-STRING "()") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "positions" :CURVAL (LIST 0) :VALUE-STRING "(0)") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "voices" :VALUE-STRING "0") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "input-mode" :MINVAL 0 :MAXVAL 1 :MENU-LIST (LIST ":index-for-cell" ":position-for-duration") :MENU-LIST-STRING ":index-for-cell")) :X 0.22399999999999976D0 :Y 1.428D0 :W 0.5 :H 0.16 :BOX-STRING "r-index-rhythms-one-voice" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 3 1) :ORIG-GROUPING-LIST (LIST 3 1) :EXTENSION-PATTERN (LIST 2) :EXTENSION-LIMIT 6 :X-PROPORTIONS (LIST (LIST 0.1 0.2 0.1) (LIST 0.4) (LIST 0.3 0.1)) :BORDER 0.012) :PW-FUNCTION (QUOTE CLUSTER-ENGINE:R-INDEX-RHYTHMS-ONE-VOICE)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "rule" :CURVAL "()" :VALUE-STRING "()") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "voices" :VALUE-STRING "0") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "input-mode" :MINVAL 0 :MAXVAL 2 :MENU-LIST (LIST ":pitches" ":motifs" ":all-pitches") :MENU-LIST-STRING ":pitches")) :X 1.1999999999999993D0 :Y 1.7999999999999999D0 :W 0.5 :H 0.16 :BOX-STRING "r-pitches-one-voice" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 2 1) :ORIG-GROUPING-LIST (LIST 2 1) :EXTENSION-PATTERN (LIST 2) :EXTENSION-LIMIT 5 :X-PROPORTIONS (LIST (LIST 0.2 0.2) (LIST 0.4) (LIST 0.3 0.1)) :BORDER 0.012) :PW-FUNCTION (QUOTE CLUSTER-ENGINE:R-PITCHES-ONE-VOICE)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "rule" :CURVAL "()" :VALUE-STRING "()") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "positions" :CURVAL (LIST 0) :VALUE-STRING "(0)") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "voices" :VALUE-STRING "0") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "input-mode" :MINVAL 0 :MAXVAL 1 :MENU-LIST (LIST ":index-for-cell" ":position-for-pitches") :MENU-LIST-STRING ":index-for-cell")) :X 1.1999999999999993D0 :Y 1.428D0 :W 0.5 :H 0.16 :BOX-STRING "r-index-pitches-one-voice" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 3 1) :ORIG-GROUPING-LIST (LIST 3 1) :EXTENSION-PATTERN (LIST 2) :EXTENSION-LIMIT 6 :X-PROPORTIONS (LIST (LIST 0.1 0.2 0.1) (LIST 0.4) (LIST 0.3 0.1)) :BORDER 0.012) :PW-FUNCTION (QUOTE CLUSTER-ENGINE:R-INDEX-PITCHES-ONE-VOICE)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "rule" :CURVAL "()" :VALUE-STRING "()") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "input-mode" :MINVAL 0 :MAXVAL 1 :MENU-LIST (LIST ":timesigns" ":all-timesigns") :MENU-LIST-STRING ":timesigns")) :X 2.0079999999999996D0 :Y 1.7999999999999999D0 :W 0.5 :H 0.1 :BOX-STRING "r-time-signatures" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 2) :ORIG-GROUPING-LIST (LIST 2) :EXTENSION-PATTERN (LIST 2) :EXTENSION-LIMIT 4 :X-PROPORTIONS (LIST (LIST 0.1 0.3) (LIST 0.3 0.1)) :BORDER 0.012) :PW-FUNCTION (QUOTE CLUSTER-ENGINE:R-TIME-SIGNATURES)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "rule" :CURVAL "()" :VALUE-STRING "()") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "indexes" :CURVAL (LIST 0) :VALUE-STRING "(0)")) :X 2.0079999999999996D0 :Y 1.428D0 :W 0.5 :H 0.1 :BOX-STRING "r-index-time-signatures" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 2) :ORIG-GROUPING-LIST (LIST 2) :EXTENSION-PATTERN (LIST 2) :EXTENSION-LIMIT 4 :X-PROPORTIONS (LIST (LIST 0.2 0.2) (LIST 0.3 0.1)) :BORDER 0.012) :PW-FUNCTION (QUOTE CLUSTER-ENGINE:R-INDEX-TIME-SIGNATURES)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "rule" :CURVAL "()" :VALUE-STRING "()") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "voice" :VALUE-STRING "0") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "timepoints" :CURVAL (LIST 0) :VALUE-STRING "(0)") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "input-mode" :MINVAL 0 :MAXVAL 2 :MENU-LIST (LIST ":motifs-start" ":motifs-end" ":dur-start") :MENU-LIST-STRING ":motifs-start")) :X 0.22399999999999976D0 :Y 1.004D0 :W 0.5 :H 0.16 :BOX-STRING "r-rhythms-one-voice-at-timepoints" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 2 2) :ORIG-GROUPING-LIST (LIST 2 2) :X-PROPORTIONS (LIST (LIST 0.2 0.2) (LIST 0.1 0.3)) :BORDER 0.012) :PW-FUNCTION (QUOTE CLUSTER-ENGINE:R-RHYTHMS-ONE-VOICE-AT-TIMEPOINTS)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "voices" :VALUE-STRING "0")) :X 1.1999999999999993D0 :Y 0.6759999999999997D0 :W 0.5 :H 0.1 :BOX-STRING "r-only-m-motifs" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :EXTENSION-PATTERN (LIST 2) :EXTENSION-LIMIT 3 :X-PROPORTIONS (LIST (LIST 0.4) (LIST 0.3 0.1)) :BORDER 0.012) :PW-FUNCTION (QUOTE CLUSTER-ENGINE:R-ONLY-M-MOTIFS))) :X 5 :Y 5 :WINDOW-DOCUMENTATION "RULES ONE ENGINE 1

A rule that only constrain variables in one engine will restrict how durations in one voice relate to other rhythms in the same voice, or how pitches in one voice relate to other pitches in the same voice. A rule might alternatelty constrain how the metric structure in a measure relates to the metric structure in other measures.

Rules that constrain one engine might either be index rules or wild card rules: 

An index rule can constrain a variable at a certain position in the sequence (for example the third variable in a rhythm engine, that might contain a rhythm motif with several duratins, or a single duration). It can also constrain a duration or pitch at a certain position in the sequence (for example the third duration, regardless of it is part of a rhythm motif or not). Durations may also be restricted depending on their time position in the sequence.

A wild card rule will step through the sequence and constrain all durations or pitches with the same restriction. 

Rules that only constrain variables in one engine are the easiest for the system to find a solution for (if one of these rules fail, it will only have to backtrack and correct the variables in the engine where the fail was discovered). Note however that in combination with other rules, these rules can increase the complexity of a given problem.

" :X -45 :Y 301 :WIDTH 730 :HEIGHT 530))) (WINDOW-SELECT WIN) WIN)