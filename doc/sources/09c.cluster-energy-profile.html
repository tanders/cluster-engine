<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<head>
<link rel="Stylesheet" type="text/css" href="../cludg.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>
09c.cluster-energy-profile</title>
</head>
<body>
<div id="navbar">
<table cellspacing="0" cellpadding="0" border="0" style="width: 100%;">
<colgroup span="3">
<col width="0*"/>
<col width="0*"/>
<col width="1*"/>
</colgroup>
<tr>
<td align="left" valign="baseline">
<a href="09b.markov-tools.html">
Prev:&nbsp;09b.markov-tools</a>
<br/>
<a href="12.debug-tools.html">
Next:&nbsp;12.debug-tools</a>
</td>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td align="left" valign="baseline">
<span class="upchain">
<b>
09c.cluster-energy-profile</b>
<br/>
<a href="../index.html">
Index</a>
</span>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<div class="cludg-doc-body">
<h2>
09c.cluster-energy-profile
</h2>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Function summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180959">
average-difference-in-analysis</a>
</td>
<td class="summary">
new-analysis reference-analysis</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180960">
average-quote-in-analysis</a>
</td>
<td class="summary">
new-analysis reference-analysis</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180952">
combined-analysis</a>
</td>
<td class="summary">
section ref-weights ref-analysis length-ref-analysis</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180951">
compare-analysis</a>
</td>
<td class="summary">
new-analysis reference-analysis tolerance%</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180954">
compare-analysis-+-0</a>
</td>
<td class="summary">
new-analysis reference-analysis</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180957">
compare-analysis-absolute-value</a>
</td>
<td class="summary">
new-analysis reference-analysis deviation</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180945">
contrasts-all-lev</a>
</td>
<td class="summary">
sequence</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180944">
contrasts-lev.1</a>
</td>
<td class="summary">
sequence</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180961">
difference-seq-and-energy-profile?</a>
</td>
<td class="summary">
reference-sequence offset</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180956">
energy-prof-from-new-old-analysis</a>
</td>
<td class="summary">
new-old-analysis</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180948">
energy-prof-morph-analysis</a>
</td>
<td class="summary">
sequence</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180947">
my-x-&gt;dx</a>
</td>
<td class="summary">
list</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180946">
new-old-analysis</a>
</td>
<td class="summary">
sequence</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180953">
new-old-rule</a>
</td>
<td class="summary">
layer reference-sequence deviation%</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180955">
new-old-rule+-0</a>
</td>
<td class="summary">
layer reference-sequence</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180949">
start-section-new-old</a>
</td>
<td class="summary">
section weights-from-analysis</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180958">
test-seq-follows-energy-profile?</a>
</td>
<td class="summary">
reference-sequence deviation%</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="09c.cluster-energy-profile.html#_g180950">
weights-from-new-old</a>
</td>
<td class="summary">
seq</td>
</tr>
</table>
<div class="defun">
<div class="defunsignatures">
<a id="_g180944">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
contrasts-lev.1&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
The Analysis of the Contrasts, formulated by Hervé Riviére and Frederic Voisin, and implemented in the OpenMusic Morphologie Library, is a model able to describe the becoming of the form in the time. 
 It points out the hierarchic relation created by the temporal sequence of the events: in fact, for the mnemonic activity, each event is datum point for every following event and datum point for the previous ones. 
 The numerical transcription carried out through the Analysis of Contrasts describes the entry order of the events in the time. 
 We could define the numerical transcription created using the analysis of contrasts as morphological structure of the entry order of the events. 
 From this starting point it is possible to identify the presence of internal patterns and analyse their potential capacity to describe and re-establish the form in its original status. 
 </p>
<p>
exemple: Contrasts-lev.1 (a d f g f) ------&gt; (1 2 3 4 3) 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180945">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
contrasts-all-lev&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
The Analysis of the Contrasts, formulated by Hervé Riviére and Frederic Voisin, and implemented in the OpenMusic Morphologie Library, is a model able to describe the becoming of the form in the time. 
 It points out the hierarchic relation created by the temporal sequence of the events: in fact, for the mnemonic activity, each event is datum point for every following event and datum point for the previous ones. 
 The numerical transcription carried out through the Analysis of Contrasts describes the entry order of the events in the time. 
 We could define the numerical transcription created using the analysis of contrasts as morphological structure of the entry order of the events. 
 From this starting point it is possible to identify the presence of internal patterns and analyse their potential capacity to describe and re-establish the form in its original status. 
 </p>
<p>
exemple: Contrasts-all-lev (a d f g f) ------&gt; ((1 2 3 4 3) (1 2 3 2) (1 2 1) (1 2)) 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180946">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
new-old-analysis&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
The analysis of contrasts, which is the function at heart of the Morphologie Library developed by Jacopo Baboni Schilingi and Frederic Voisin, identifies the occurrences within any sequence of events. 
 Such analysis is of quantitative type, and has considerable development potentialities towards a qualitative description of the processes that put in relation morphologic structure of the message, mnemonicperceptive activity and psychic response. 
 The hierarchies that the analysis of contrasts describes become qualitatively pertinent to the mnemonic activity. 
 We have called New/Old Analysis the function that describes the newness level of an event in relation to the context in which it appears. 
 The importance of such a function is crucial, because it describes from the point of view of the psychic response the different newness level of the single event in the time. 
 The steps to define New/Old Analysis are three: 
 </p>
<p>
1. Measurement of the distances: 
 it allows to quantify the local distance between the different events in relation to their first appearance in the time. 
 </p>
<p>
(defun distances (sequence) 
 (mapcar #' (lambda (x) (x-&gt;dx x)) (Contrasts-all-lev sequence))) 
 </p>
<p>
2. Attribution of different weights to the datum points: 
 this step is crucial, because it strengthens the global hierarchy among the various analysis level in relation to the time parameter. 
 </p>
<p>
(defun weights (sequence) 
 (mapcar #' (lambda (x) (apply '+ x)) 
 (Contrasts-all-lev sequence))) 
 </p>
<p>
3. Application of weights to the distances: 
 this further step is just the application of different weights - obtained considering every time one of the events as datum point (global parameter, ex. nr. 3) 
 </p>
<ul>
<li>
<p>
to the distances between the various contiguous events (local parameter). 
 </p>
</li>
</ul>
<p>
(defun Contrasts-lev.1*weights (sequence) 
 (mapcar #' (lambda (x y) (om* y x)) 
 (distances sequence) (weights sequence))) 
 </p>
<p>
;-------- 
 </p>
<p>
(defun Contrasts-all-lev*weights (sequence) 
 (reverse (mapcar #' (lambda (xx) (apply '+ xx)) 
 (mat-trans (mapcar #' (lambda (x) (reverse x)) (Contrasts-lev.1*weights sequence)))))) 
 </p>
<p>
A theoretical problem we have faced is the relation between the object we have analysed and the previous and following events. 
 Any events chain perceived as belonging to a whole and complete organism stays anyway in relation with the previous and following sequential chain. 
 In case of performance of a music piece, the silence acts as a frame of the structure, and, being a frame, it becomes organic element of the structure analysed. 
 It is worth to underline that even in case of extrapolation, like in the here quoted examples (a thematic fragment, a subject of a fugue, etc.), 
 the object is perceived as an unit, and therefore the silence places it in a well defined mental space. 
 </p>
<p>
(x-append 'symbol-silence-start sequence 'symbol-silence-end) 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180947">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
my-x-&gt;dx&nbsp;&nbsp;</td>
<td class="lambda-list">
list</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180948">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
energy-prof-morph-analysis&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
The step that allows to transform the New/Old Analysis function into a model able to simulate the psychic response of the perceptive act to the morphologic structure occurs using three functions. 
 Then, to this the three functions apply allowing to define the energy profile. 
 1. In the first passage, the transformation into absolute abs value contains all the relations with reference to the first element of the chain. 
 At this point, the data don't represent the ageing degree of the events anymore, but they are mere distance (it doesn't matter if they are old or new, they are to be intended nearly as physical distance between the various data stored in space/memory) related to a virtual point zero (a kind of possible present) 
 2. In the second passage, the use of the local derivative, implemented in OpenMusic under the name of x--&gt;dx, the contiguous relations are again pointed out, and the distance identified in the first passage is assimilated to the energy needed to cover the contiguous distances in the space/memory 
 3 - Finally, the transformation into absolute abs value, because of the transformation of the distances into energy, brings all the data back to positive values. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180949">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
start-section-new-old&nbsp;&nbsp;</td>
<td class="lambda-list">
section weights-from-analysis</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
This function does a new/old analysis of a sequence but uses weigths from another analysis. The idea is to let the weights 
 from a pre-existing analysis influence the result in order to search for a sequence matching the pre-existing old/new analysis. 
 Last value will be included even though an ending pause is not added (see theory) - this extra pause would only affects the weights. 
 IMPORTANT:The number of weights has to be more or equal to the number of distances (i.e. elements in seq + 1) 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180950">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
weights-from-new-old&nbsp;&nbsp;</td>
<td class="lambda-list">
seq</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180951">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
compare-analysis&nbsp;&nbsp;</td>
<td class="lambda-list">
new-analysis reference-analysis tolerance%</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Simply compares two list of values and returns true if they do not deviate more than the tolerance (0 = exact match, 0.5 = +/- 50 %). 
 IMPORTANT: new-analysis can not be longer than reference-analysis (this will generate a wrong answer). 
 New-analysis may be shorter than reference-analysis. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180952">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
combined-analysis&nbsp;&nbsp;</td>
<td class="lambda-list">
section ref-weights ref-analysis length-ref-analysis</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Since length of re-analysis is known, this is calculated outside the search. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180953">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
new-old-rule&nbsp;&nbsp;</td>
<td class="lambda-list">
layer reference-sequence deviation%</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180954">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
compare-analysis-+-0&nbsp;&nbsp;</td>
<td class="lambda-list">
new-analysis reference-analysis</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Simply compares two list of values and returns true if they signs are the same (+ or - or 0). 
 IMPORTANT: new-analysis can not be longer than reference-analysis (this will generate a wrong answer). 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180955">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
new-old-rule+-0&nbsp;&nbsp;</td>
<td class="lambda-list">
layer reference-sequence</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180956">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
energy-prof-from-new-old-analysis&nbsp;&nbsp;</td>
<td class="lambda-list">
new-old-analysis</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180957">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
compare-analysis-absolute-value&nbsp;&nbsp;</td>
<td class="lambda-list">
new-analysis reference-analysis deviation</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Simply compares two list of values and returns true if they do not deviate more than the tolerance (0 = exact match, 0.5 = +/- 50 %). 
 IMPORTANT: new-analysis can not be longer than reference-analysis (this will generate a wrong answer). 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180958">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
test-seq-follows-energy-profile?&nbsp;&nbsp;</td>
<td class="lambda-list">
reference-sequence deviation%</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
This is a logic statement that checks if a sequence follows the energy profile 
 of a given reference sequence. 
 </p>
<p>
deviation% is the maximum allowed deviation compared to max energy in profile 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180959">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
average-difference-in-analysis&nbsp;&nbsp;</td>
<td class="lambda-list">
new-analysis reference-analysis</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Simply compares two list of values and returns the average difference between the values. 
 IMPORTANT: new-analysis can not be longer than reference-analysis (this will generate a wrong answer). 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180960">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
average-quote-in-analysis&nbsp;&nbsp;</td>
<td class="lambda-list">
new-analysis reference-analysis</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Simply compares two list of values and returns the average difference between the values. 
 IMPORTANT: new-analysis can not be longer than reference-analysis (this will generate a wrong answer). 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180961">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
difference-seq-and-energy-profile?&nbsp;&nbsp;</td>
<td class="lambda-list">
reference-sequence offset</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
This is a function that gives the average difference between the energy profile of a reference sequence and the sequence in teh solution. 
 </p>
<p>
The diference is given as an inverted value from an offset: In this way the largest differences will give the smallest output. 
 </p>
</div>
</div>
</div>
<div class="cludg-footer">
Generated by&nbsp;<a href="mailto:ihatchondo@common-lisp.net" lang="en">
CLDOC</a>
- 2017-08-26 22:24:56</div>
</body>
</html>
